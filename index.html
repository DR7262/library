<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="header">
        <h1 class="logo">BookLog</h1>
        <button class="btn" id="newBook">New</button>
    </div>
    <div id="books">
    </div>
    <div class="overlay" id = "overlay">
        <div class = "prompt">
            <p class="message">Add new book</p>
            <input type="text" required name = "book" placeholder="Book">
            <input type="text" required name = "author" placeholder="Author">
            <input type="number" required name = "year" placeholder="Year">
            <input type="number" required name = "pages" placeholder="Pages">
                <label for="read" class="readStatus"> Have I read it?
                    <input type="checkbox" required name = "read" placeholder="Read?">
                </label>
            <button class = "btn">Confirm</button>
        </div>
    </div>

    <script>
        let myLibrary = [];
        const books = document.getElementById('books');
        const newBook = document.getElementById('newBook');
        const overlay = document.getElementById('overlay');

        newBook.addEventListener("click", () => {
            overlay.classList.toggle("active");
        });

        overlay.addEventListener("click", (e) => {
            if (e.target === overlay) {
                overlay.classList.toggle("active");
            }
        });

        function Book(title, pages, year, read) {
            this.title = title;
            this.pages = pages;
            this.year = year;
            this.read = read;
        };

        let test1 = new Book('Lord of the Rings', 100, 2021, true);
        let test2 = new Book('Twilight', 104, 1996, true);

        myLibrary.push(test1);
        myLibrary.push(test2);

        displayBookCards(myLibrary);

        function createBookCard(book) {
            let card = document.createElement('div');
            card.classList.add('book');
            
            for (prop in book) {
                let info = document.createElement('p');
                info.classList.add('info');
                info.classList.add(prop);
                info.textContent = book[prop];

                card.appendChild(info);
            }

            return card;
        };

        function displayBookCards(currentLib) {
            books.innerHTML = ''
            for (book in currentLib) {
                currentCard = createBookCard(currentLib[book]);
                books.appendChild(currentCard);
            }
        }
    </script>
</body>
</html>